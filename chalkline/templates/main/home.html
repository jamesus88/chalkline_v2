<head>
    <link rel="stylesheet" href="{{url_for('static', filename='main/home.css')}}">
</head>
{% extends "design.html" %}
{% block title %}Home{% endblock title %}
{% block content %}

<main>
    <center>
        <h3 class="error">Chalkline is currently under maintenance. Some features may be disrupted...</h3>
        {% if user is none %}
        <h1>Baseball Ready.</h1>
        <a class="login large-link" href="{{url_for('main.login')}}">Sign In <i class="fa-solid fa-user"></i></a>
        <a href="{{url_for('main.signup')}}">Create Account</a>
        {% else %}
        <h1>Hello, {{user.firstName}}!</h1>
            {% if ('coach' in user.role or 'parent' in user.role) and user.teams == [] %}
                <h3 class="error">You have 0 teams linked to your account. Add one to your <a href="{{url_for('main.profile')}}">profile</a>!</h3>
            {% endif %}
        {% endif %}
    <br>
        {% if user is not none %}
        <div class="divide">
            {% if 'coach' in user.role or 'parent' in user.role %}
            <section class="menu" onclick="toggleOpen('teams-menu')">
                <h2>Teams</h2>
                <i class="fa-solid fa-users menu"></i>
                <div class="hide" id="teams-menu">
                    <a href="{{url_for('teams.schedule')}}" class="menu">Team Schedule</a>
                    <a href="{{url_for('teams.info')}}" class="menu">Info and Contacts</a>
                    <a href="{{url_for('teams.rentals')}}" class="menu">Rental Equipment</a>
                </div> 
            </section>
            {% endif %}
            {% if 'umpire' in user.role or 'youth' in user.role %}
            <section class="menu" onclick="toggleOpen('umpire-menu')">
                <h2>Umpire</h2>
                <i class="fa-solid fa-clipboard-list menu"></i>
                <div class="hide" id="umpire-menu">
                    <a href="{{url_for('umpire.schedule')}}" class="menu">Umpire Schedule</a>
                    <a href="{{url_for('umpire.assignments')}}" class="menu">My Games</a>
                </div>
            </section>
            {% endif %}
            {% if 'board' in user.role %}
            <section class="menu" onclick="toggleOpen('director-menu')">
                <h2>Director</h2>
                <i class="fa-solid fa-street-view menu"></i>
                <div class="hide" id="director-menu">
                    <a href="{{url_for('director.week')}}" class="menu">This Week's Games</a>
                    <a href="{{url_for('director.schedule')}}" class="menu">Director Schedule</a>
                    <a href="{{url_for('director.shifts')}}" class="menu">My Shifts</a>
                </div>
            </section>
            {% endif %}
            <section class="menu" onclick="toggleOpen('league-menu')">
                <h2>League</h2>
                <i class="fa-solid fa-baseball-bat-ball menu"></i>
                <div class="hide" id="league-menu">
                    <a href="{{url_for('league.master_schedule')}}" class="menu">Master Schedule</a>
                    <a href="{{url_for('league.info')}}" class="menu">League Info</a>
                    <a href="{{url_for('league.status')}}" class="menu">Field Status</a>
                </div>
            </section>
            {% if 'admin' in user.role %}
            <section class="menu" onclick="toggleOpen('admin-menu')">
                <h2>Admin</h2>
                <i class="fa-solid fa-wrench menu"></i>
                <div class="hide" id="admin-menu">
                    <a href="{{url_for('admin.event_data')}}" class="menu">Manage Events</a>
                    <a href="{{url_for('admin.team_data')}}" class="menu">Manage Teams</a>
                    <a href="{{url_for('admin.dod_data')}}" class="menu">DoD Shifts</a>
                    <a href="{{url_for('admin.rental_data')}}" class="menu">Rental Data</a>
                    <a href="{{url_for('admin.announcement')}}" class="menu">Send Announcement</a>
                </div>
            </section>
            {% endif %}
        </div>
        <script>
            function toggleOpen(section_id) {
                let menu = document.getElementById(section_id);
                if (menu.style.display == 'none') {
                    menu.style.display = 'block';
                }
            }
        </script>
        {% endif %}
        <h2>Chalkline News</h2>
        <section>
            <h3>Find a bug?</h3>
            <h4>Report it immediately to Aidan Hurwitz at <a href="mailto:chalklinebaseball@gmail.com">chalklinebaseball@gmail.com</a></h4>
        </section>
        <section id="supporters">
            <h3>You can support Chalkline&trade; <a target='_blank' href="https://buymeacoffee.com/aidanhurwitz">here!</a></h3>
            <h3 class="urgent">Thank you to supporters of Chalkline&trade;!</h3>
            <p>Dave Miller</p>
            <p>Chris Riley</p>
            <p>Scott Elsberry</p>
        </section>
        <section>
            <h3>v4.0.0 is here.</h3>
            <h4>New look. New features. Still baseball.</h4>
        </section>
        <section>
            <h3>New <a href="{{url_for('teams.schedule')}}">Team Schedule</a>.</h3>
            <h4>View game schedule, practices, and umpire duties for your team.</h4>
            <h3>New <a href="{{url_for('league.master_schedule')}}">League Schedule</a>.</h3>
            <h4>View the master schedule for all games.</h4>
        </section>
    
        <h1>Questions? Check the <a href="{{url_for('docs.home')}}">docs</a>.</h1>
    </center>
</main>

{% endblock content %}